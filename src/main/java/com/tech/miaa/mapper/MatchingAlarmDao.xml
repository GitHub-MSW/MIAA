<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
    PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
    "https://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.tech.miaa.dao.MatchingAlarmDao">
	<select id="matching_alarm_list"
		resultType="com.tech.miaa.dto.ItemDto">
		SELECT *
		FROM ITEM
		WHERE USER_ID =#{param1}
		ORDER BY TOTAL_ID DESC
	</select>
	<delete id="mypage_alarm_delete">
		DELETE FROM ITEM
		WHERE ITEM_ID=#{param1} AND USER_ID=#{param2}
	</delete>
	<insert id="alert_item_write"> INSERT INTO ALERT_ITEM VALUES(#{param1},#{param2},#{param3},#{param4},#{param5},
		#{param6},#{param7},#{param8},#{param9},#{param10},#{param11}, #{param12}, #{param13})
	</insert>
	<insert id="alert_item_write2"> MERGE INTO ALERT_ITEM
		USING DUAL ON (ATCID = #{param3})
		WHEN NOT MATCHED THEN INSERT (TOTAL_ID, USER_ID, ATCID, FDSBJT, FDSN,
		PRDTCLNM,FDPRDTNM,FDYMD,DEPPLACE,RNUM,CLRNM,FDFILEPATHIMG,ADDR)
		VALUES (#{param1},#{param2},#{param3},#{param4},#{param5},
		#{param6},#{param7},#{param8},#{param9},#{param10},#{param11}, #{param12}, #{param13})
	</insert>
	<insert id="alert_animal_write"> INSERT INTO ALERT_ANIMAL VALUES(#{param1},#{param2},#{param3},#{param4},#{param5},
		#{param6},#{param7},#{param8},#{param9},#{param10},#{param11}, #{param12}, #{param13},
		#{param14},#{param15},#{param16},#{param17},#{param18},#{param19},#{param20},#{param21},
		#{param22},#{param23},#{param24},#{param25})
	</insert>
	<insert id="alert_animal_write2"> MERGE INTO ALERT_ANIMAL
		USING DUAL ON (DESERTIONNO = #{param3})
		WHEN NOT MATCHED THEN INSERT (TOTAL_ID, USER_ID,DESERTIONNO,FILENAME,HAPPENDT,
		HAPPENPLACE,KINDCD,COLORCD,AGE,WEIGHT,NOTICENO,NOTICESDT,NOTICEEDT,POPFILE,PROCESSSTATE,
		SEXCD,NEUTERYN,SPECIALMARK,CARENM,CARETEL,CAREADDR,ORGNM,CHARGENM,OFFICETEL,NOTICECOMMENT)
		VALUES(#{param1},#{param2},#{param3},#{param4},#{param5},
		#{param6},#{param7},#{param8},#{param9},#{param10},#{param11}, #{param12}, #{param13},
		#{param14},#{param15},#{param16},#{param17},#{param18},#{param19},#{param20},#{param21},
		#{param22},#{param23},#{param24},#{param25})
	</insert>
</mapper>
